---
title: 還原為 Entity Framework Designer 中的 ObjectCoNtext-EF6
description: Entity Framework Designer 中的 ObjectCoNtext 還原至 Entity Framework 6
author: ajcvickers
ms.date: 10/23/2016
uid: ef6/modeling/designer/codegen/legacy-objectcontext
ms.openlocfilehash: 563c1defd12a72836a158d9c2398202c421dd6f3
ms.sourcegitcommit: 0a25c03fa65ae6e0e0e3f66bac48d59eceb96a5a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/14/2020
ms.locfileid: "92064935"
---
# <a name="reverting-to-objectcontext-in-entity-framework-designer"></a><span data-ttu-id="b5178-103">Entity Framework Designer 中的 ObjectCoNtext 還原</span><span class="sxs-lookup"><span data-stu-id="b5178-103">Reverting to ObjectContext in Entity Framework Designer</span></span>
<span data-ttu-id="b5178-104">使用舊版 Entity Framework 使用 EF 設計工具建立的模型會產生衍生自 ObjectCoNtext 的內容，以及衍生自 EntityObject 的實體類別。</span><span class="sxs-lookup"><span data-stu-id="b5178-104">With previous version of Entity Framework a model created with the EF Designer would generate a context that derived from ObjectContext and entity classes that derived from EntityObject.</span></span>

<span data-ttu-id="b5178-105">從 EF 4.1 開始，建議您交換至程式碼產生範本，以產生衍生自 DbCoNtext 和 POCO 實體類別的內容。</span><span class="sxs-lookup"><span data-stu-id="b5178-105">Starting with EF4.1 we recommended swapping to a code generation template that generates a context deriving from DbContext and POCO entity classes.</span></span>

<span data-ttu-id="b5178-106">在 Visual Studio 2012 中，您會針對以 EF 設計工具建立的所有新模型，取得預設產生的 DbCoNtext 程式碼。</span><span class="sxs-lookup"><span data-stu-id="b5178-106">In Visual Studio 2012 you get DbContext code generated by default for all new models created with the EF Designer.</span></span> <span data-ttu-id="b5178-107">除非您決定要換至 DbCoNtext 型程式碼產生器，否則現有的模型將繼續產生 ObjectCoNtext 型程式碼。</span><span class="sxs-lookup"><span data-stu-id="b5178-107">Existing models will continue to generate ObjectContext based code unless you decide to swap to the DbContext based code generator.</span></span>

## <a name="reverting-back-to-objectcontext-code-generation"></a><span data-ttu-id="b5178-108">還原回 ObjectCoNtext 程式碼產生</span><span class="sxs-lookup"><span data-stu-id="b5178-108">Reverting Back to ObjectContext Code Generation</span></span>

### <a name="1-disable-dbcontext-code-generation"></a><span data-ttu-id="b5178-109">1. 停用 DbCoNtext 程式碼產生</span><span class="sxs-lookup"><span data-stu-id="b5178-109">1. Disable DbContext Code Generation</span></span>

<span data-ttu-id="b5178-110">衍生的 DbCoNtext 和 POCO 類別的產生是由您專案中的兩個 tt 檔案所處理，如果您在 [方案瀏覽器] 中展開 .edmx 檔案，就會看到這些檔案。</span><span class="sxs-lookup"><span data-stu-id="b5178-110">Generation of the derived DbContext and POCO classes is handled by two .tt files in you project, if you expand the .edmx file in solution explorer you will see these files.</span></span> <span data-ttu-id="b5178-111">從您的專案中刪除這兩個檔案。</span><span class="sxs-lookup"><span data-stu-id="b5178-111">Delete both of these files from your project.</span></span>

![程式碼 Gen 檔案](~/ef6/media/codegenfiles.png)

<span data-ttu-id="b5178-113">如果您使用的是 VB.NET，則必須選取 [ **顯示所有** 檔案] 按鈕，才能看到這些嵌套的檔案。</span><span class="sxs-lookup"><span data-stu-id="b5178-113">If you are using VB.NET you will need to select the **Show All Files** button to see the nested files.</span></span>

![顯示所有檔案](~/ef6/media/showallfiles.png)

### <a name="2-re-enable-objectcontext-code-generation"></a><span data-ttu-id="b5178-115">2. Re-Enable ObjectCoNtext 程式碼產生</span><span class="sxs-lookup"><span data-stu-id="b5178-115">2. Re-Enable ObjectContext Code Generation</span></span>

<span data-ttu-id="b5178-116">在 EF 設計工具中開啟您的模型，以滑鼠右鍵按一下設計介面的空白區段，然後選取 [ **屬性**]。</span><span class="sxs-lookup"><span data-stu-id="b5178-116">Open you model in the EF Designer, right-click on a blank section of the design surface and select **Properties**.</span></span>

<span data-ttu-id="b5178-117">在屬性視窗將程式 **代碼產生策略** 從 [ **無** ] 變更為 **預設值**。</span><span class="sxs-lookup"><span data-stu-id="b5178-117">In the Properties window change the **Code Generation Strategy** from **None** to **Default**.</span></span>

![程式碼產生策略](~/ef6/media/codegenstrategy.png)
